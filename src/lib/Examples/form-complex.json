{
    "name": "test-form",
    "start": "kontaktdaten",
    "fieldsets": [
        {
            "label": "Kontaktdaten",
            "name": "kontaktdaten",
            "fields": [
                {
                    "name": "name",
                    "type": "text",
                    "classes": ["mb-3"],
                    "label": "Name",
                    "validations": [
                        {
                            "type": "minLength",
                            "value": 2,
                            "error": "Der Name muss aus mindestens zwei Buchstaben bestehen."
                        },
                        {
                            "type": "letters",
                            "error": "Bitte geben Sie nur Buchstaben an."
                        }
                    ]
                },
                {
                    "name": "type",
                    "type": "choice-radio",
                    "classes": ["mb-3"],
                    "label": "Sind Sie bereits Kunde bei uns?",
                    "choices": [
                        {
                            "label": "Ja",
                            "value": "yes"
                        },
                        {
                            "label": "Nein",
                            "value": "no"
                        }
                    ],
                    "valueDefault": "no"
                },
                {
                    "name": "email",
                    "type": "text",
                    "classes": ["mb-3"],
                    "label": "Email",
                    "validations": [
                        {
                            "type": "email",
                            "error": "Bitte geben Sie eine gültige Email-Adresse ein."
                        }
                    ]
                },            
                {
                    "name": "reason",
                    "label": "Grund der Anfrage",
                    "type": "choice-select",
                    "classes": ["mb-3"],
                    "choices": [
                        {
                            "label": "Bitte wählen..."
                        },
                        {
                            "label": "Fragen zu Produkten",
                            "value": "products"
                        },
                        {
                            "label": "Defekt eines Produkts",
                            "value": "defect"
                        },
                        {
                            "label": "Fragen zum Versand",
                            "value": "send"
                        },
                        {
                            "label": "Sonstiges",
                            "value": "Sonstiges"
                        }
                    ],
                    "validations": [
                        {
                            "type": "empty",
                            "error": "Bitte wählen Sie einen Grund der Anfrage aus"
                        }
                    ],
                    "help": {
                        "type": "info",
                        "content": "<strong>Geschosshöhe</strong><br /><br /><p>Die anzhal der Vollgeschosse</p>"
                    }        
                },            
                {
                    "name": "product",
                    "label": "Um welches Produkt handelt es sich?",
                    "type": "choice-select",
                    "classes": ["mb-3"],
                    "choices": [
                        {
                            "label": "Bitte wählen..."
                        },
                        {
                            "label": "Hosen",
                            "value": "pants"
                        },
                        {
                            "label": "T-Shirts",
                            "value": "t-shirts"
                        }
                    ],
                    "validations": [
                        {
                            "type": "empty",
                            "error": "Bitte wählen Sie einen Grund der Anfrage aus"
                        }
                    ],
                    "conditions": [
                        {
                            "field": "reason",
                            "operator": "==",
                            "value": "products"
                        }
                    ],
                    "help": {
                        "type": "info",
                        "content": "<strong>Geschosshöhe</strong><br /><br /><p>Die anzhal der Vollgeschosse</p>"
                    }        
                },
                {
                    "name": "message",
                    "label": "Ihre Nachricht",
                    "type": "textarea",
                    "classes": ["mb-3"],
                    "conditions": [
                        {
                            "field": "reason",
                            "operator": "!=",
                            "value": "undefined"
                        }
                    ],
                    "validations": [
                        {
                            "type": "minLength",
                            "value": 50,
                            "error": "Der Text muss mindestens 50 Zeichen lang sein."
                        }
                    ]     
                },
                {
                    "name": "canContact",
                    "label": "Ich stimme der Kontaktaufnahem durch die Firma zu.",
                    "type": "checkbox",
                    "value": "no"
                }
            ]
        }
    ],
    "triggers": [
        {
            "name": "checkBuilding",
            "type": "change",
            "conditions": [
                {
                    "field": "wohneinheiten",
                    "value": "5",
                    "operator": "<"
                },
                {
                    "field": "baujahr",
                    "value": "1977",
                    "operator": "<"
                }
            ],
            "action": {
                "type": "alert",
                "text": "Für vor 1978 errichtete Gebäude mit weniger als 5 Wohneinheiten ohne Wanddämmung darf gemäß GEG kein Verbrauchsausweis erstellt werden. Es ist jedoch möglich einen entsprechenden Bedarfsausweis zu erstellen. Klicken Sie den unten angezeigten Button, um Ihren Ausweis in einen Bedarfsausweis umzuwandeln."
            }
        }
    ]
}

